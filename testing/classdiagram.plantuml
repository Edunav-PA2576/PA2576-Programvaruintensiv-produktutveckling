@startuml

@startuml

package "Database" {

  class User {
    - userId: int
    - username: str
    - email: str
    - password: str
    - profile_picture: str
    - createdAt: datetime
    - role: str
    - favorite_songs: list
    - favorite_albums: list
    - favorite_artists: list
    + follow(user: User)
    + unfollow(user: User)
    + is_following(user: User)
  }

  class Profile {
    - userId: int
    - bio: str
    - song_of_the_day: str
    + display_profile()
  }

  class Post {
    - postId: int
    - userId: int
    - songId: str
    - caption: str
    - likes: int
    - createdAt: datetime
    + get_post_info()
  }

  class Like {
    - likeId: int
    - userId: int
    - postId: int
  }

  class Comment {
    - commentId: int
    - userId: int
    - postId: int
    - content: str
    - createdAt: datetime
  }

  class Song {
    - songId: str
    - title: str
    - artist: str
    - album: str
    - coverUrl: str
  }

  class Album {
    - albumId: str
    - albumName: str
    - artist: str
    - coverUrl: str
  }

  class Artist {
    - artistId: str
    - artistName: str
    - artistPictureUrl: str
  }

  class Followers {
    - followerId: int
    - followingId: int
  }

  Profile --|> User : Hämtar data från
  User "1" *-- "*" Post
  User "1" *-- "*" Like
  User "1" *-- "*" Comment
  User "1" *-- "*" Song
  User "1" *-- "*" Album
  User "1" *-- "*" Artist
  User "1" *-- "1" Profile
  Post "1" *-- "*" Like
  Post "1" *-- "*" Comment
  Post "1" *-- "1" Song
  Post "1" *-- "1" Album
  Post "1" *-- "1" Artist
  User "1" *-- "*" Followers : "följare"
  User "1" *-- "*" Followers : "följer"

}

@enduml


package "Python"{

  package "SpotifyAPI" {
  
    class SpotifyAPI{
      - ClientID: str
      - ClientSecret: str
      - Token: str
      - GetToken()
      + Search(query(str), searchtype(str))
    }
    
    class SpotifySearch{
      - Spotify: SpotifyAPI
      - Query: str
      + GetTrack()
      + GetAlbum()
      + GetArtist()
    }
    
    class SearchRoute<<route>>{
    }
    
    SpotifyAPI "1" *-- "*" SpotifySearch
    SearchRoute "1" -- "*" SpotifySearch
  }
  
  package "OAuth"{
  
    class OAuth{
      - GoogleClientId: str
      - GoogleClientSecret: str
      - GoogleDiscoveryURL: str
      - UserID: str
      - Token: str
      - GetToken()
      + RequestLogin()
      + RedirectToGoogleLogin()
      + AccessTokens()
    }

    class LoginRoute<<route>> {
    }

    OAuth "1" *-- "*" LoginRoute
  }

  class Main<<file>>{
    + CreateApp()
  }
  
  class RegisterUser{
  }
}

package "JavaScript"{
  package "Profile"{
    class Profile {
      + render(): JSX.Element
    }
    
    class ProfileHeader {
      - ProfilePic: str
      - Username: str
      - Genres: list
    }
    
    class TopSongs {
      - Songs: list
    }
    
    class AlbumsShowcase {
      - Albums: list
    }
    
    class ArtistsShowcase {
      - Artists: list
    }
    
    class BadgesShowcase {
      - Badges: list
    }
    
    class Feed {
      - Posts: list
    }
    
    Profile "1" *-- "1" ProfileHeader
    Profile "1" *-- "*" TopSongs
    Profile "1" *-- "*" AlbumsShowcase
    Profile "1" *-- "*" ArtistsShowcase
    Profile "1" *-- "*" BadgesShowcase
    Profile "1" *-- "*" Feed
  }
}

@enduml
